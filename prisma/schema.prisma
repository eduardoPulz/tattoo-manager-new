// Schema do Prisma
datasource db {
  provider = "postgresql"
  url      = "postgresql://postgres:postgres@localhost:5432/tattoo_manager"
}

generator client {
  provider = "prisma-client-js"
}

model Funcionario {
  id            String         @id @default(uuid())
  nome          String
  especialidade String
  telefone      String
  criadoEm      DateTime      @default(now())
  atualizadoEm  DateTime      @updatedAt
  agendamentos  Agendamento[]

  @@map("funcionarios")
}

model Servico {
  id            String         @id @default(uuid())
  descricao     String
  duracao       Int           // duração em minutos
  preco         Float
  criadoEm      DateTime      @default(now())
  atualizadoEm  DateTime      @updatedAt
  agendamentos  Agendamento[]

  @@map("servicos")
}

model Agendamento {
  id            String      @id @default(uuid())
  horaInicio    DateTime
  horaFim       DateTime
  nomeCliente   String
  funcionarioId String
  servicoId     String
  criadoEm      DateTime    @default(now())
  atualizadoEm  DateTime    @updatedAt
  funcionario   Funcionario @relation(fields: [funcionarioId], references: [id])
  servico       Servico     @relation(fields: [servicoId], references: [id])

  @@map("agendamentos")
}
